name: CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - name: CURL-ACTION
      uses: enflo/curl-action@v1.2
      with:
        # curl arguments
        curl: https://packagecontrol.io/channel_v3.json -o channel_v3.json
    - name: Add & Commit
      uses: EndBug/add-and-commit@v3.0.0
      with:
        message: "update"
        path: channel_v3.json
    - name: GitHub Push
      uses: ad-m/github-push-action@v0.5.0
      with:
        # Token for the repo. Can be passed in using $\{{ secrets.GITHUB_TOKEN }}
        github_token: $\{{ secrets.GITHUB_TOKEN }}
        # Repository name to push. Default or empty value represents current github repository (${GITHUB_REPOSITORY})
        repository: ${GITHUB_REPOSITORY}# optional, default is 
        # Determines if force push is used
        force: true # optional
        # Directory to change to before pushing.
        directory: .# optional, default is .
    
    
